[gd_scene load_steps=7 format=3 uid="uid://bdsykix2gey6w"]

[ext_resource type="Script" path="res://scripts/characters/Player.cs" id="1_j3uwf"]
[ext_resource type="Script" path="res://scripts/characters/PlayerHead.cs" id="2_01xf4"]
[ext_resource type="Script" path="res://scripts/characters/WeaponHolder.cs" id="3_bbgko"]
[ext_resource type="PackedScene" uid="uid://8jbcx328wa53" path="res://scenes/weapons/beretta_m9.tscn" id="3_ienkl"]
[ext_resource type="PackedScene" uid="uid://bwht01rnbphya" path="res://scenes/characters/arms.tscn" id="4_0er73"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_mlv1t"]
radius = 0.3
height = 1.8

[node name="Player" type="CharacterBody3D"]
collision_mask = 14
script = ExtResource("1_j3uwf")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CapsuleShape3D_mlv1t")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65, 0)
script = ExtResource("2_01xf4")

[node name="Camera" type="Camera3D" parent="Head"]
current = true
fov = 90.0

[node name="StancePosition" type="Node3D" parent="Head/Camera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.09, -0.124, -0.35061)

[node name="WeaponHolder" type="Node3D" parent="Head/Camera/StancePosition"]
script = ExtResource("3_bbgko")

[node name="BerettaM9" parent="Head/Camera/StancePosition/WeaponHolder" instance=ExtResource("3_ienkl")]

[node name="TGT_R_Palm" parent="Head/Camera/StancePosition/WeaponHolder/BerettaM9" index="3"]
visible = true

[node name="TGT_L_Palm" parent="Head/Camera/StancePosition/WeaponHolder/BerettaM9" index="4"]
transform = Transform3D(-0.164014, -0.106115, -0.980734, 0.984526, 0.0445808, -0.169472, 0.0617054, -0.993354, 0.0971608, -0.0059178, -0.0660388, 0.162298)
visible = true

[node name="SightPosition" parent="Head/Camera/StancePosition/WeaponHolder/BerettaM9" index="5"]
visible = true

[node name="Arms" parent="Head/Camera" instance=ExtResource("4_0er73")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -0.0880842, 0)

[node name="HumanArm" parent="Head/Camera/Arms" index="0"]
transform = Transform3D(0.0902174, 0, 0, 0, 0.0902174, 0, 0, 0, 0.0902174, 9.96094e-09, 0, -0.11394)

[node name="IK_R_Arm" parent="Head/Camera/Arms/HumanArm/Skeleton3D" index="1"]
use_magnet = true
magnet = Vector3(-2.415, -2.17, 0)
target_node = NodePath("../../../../StancePosition/WeaponHolder/BerettaM9/TGT_R_Palm")

[node name="IK_L_Arm" parent="Head/Camera/Arms/HumanArm/Skeleton3D" index="2"]
use_magnet = true
magnet = Vector3(2.855, -3.525, 0)
target_node = NodePath("../../../../StancePosition/WeaponHolder/BerettaM9/TGT_L_Palm")

[node name="ReadyPosition" type="Marker3D" parent="Head/Camera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.09, -0.124, -0.35061)
visible = false

[node name="AlternateReadyPosition" type="Marker3D" parent="Head/Camera"]
transform = Transform3D(0.866025, -0.5, 0, 0.5, 0.866025, 0, 0, 0, 1, 0.0258597, -0.124, -0.260035)
visible = false

[node name="SafePosition" type="Marker3D" parent="Head/Camera"]
transform = Transform3D(0.637747, -0.462342, 0.616051, 0, 0.79981, 0.600253, -0.770246, -0.382809, 0.510076, -0.119461, -0.169174, -0.312166)
visible = false

[editable path="Head/Camera/StancePosition/WeaponHolder/BerettaM9"]
[editable path="Head/Camera/StancePosition/WeaponHolder/BerettaM9/Mesh"]
[editable path="Head/Camera/Arms"]
